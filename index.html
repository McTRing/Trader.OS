<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0d1117">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>TraderOS Pro</title>
    <link rel="manifest" href="manifest.json">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;700&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0d1117; --bg-secondary: #161b22; --bg-tertiary: #21262d;
            --accent-cyan: #58a6ff; --accent-green: #3fb950; --accent-red: #f85149;
            --accent-gold: #d29922; --accent-purple: #a371f7;
            --text-primary: #c9d1d9; --text-secondary: #8b949e; --text-muted: #6e7681;
            --border: #30363d;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: 'Inter', sans-serif; background: var(--bg-primary); color: var(--text-primary);
            min-height: 100vh; line-height: 1.5;
        }
        body::before {
            content: ''; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background-image: linear-gradient(rgba(88,166,255,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(88,166,255,0.03) 1px, transparent 1px);
            background-size: 50px 50px; pointer-events: none; z-index: -1;
        }
        .app-container { display: flex; flex-direction: column; min-height: 100vh; max-width: 1400px; margin: 0 auto; }
        
        /* Header */
        .header {
            background: linear-gradient(180deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
            border-bottom: 1px solid var(--border); padding: 1rem 1.5rem;
            position: sticky; top: 0; z-index: 100;
        }
        .header-content { display: flex; justify-content: space-between; align-items: center; max-width: 1400px; margin: 0 auto; }
        .logo { display: flex; align-items: center; gap: 0.75rem; font-family: 'Space Grotesk', sans-serif; font-size: 1.5rem; font-weight: 700; color: var(--text-primary); text-decoration: none; }
        .logo-icon { width: 36px; height: 36px; background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple)); border-radius: 10px; display: flex; align-items: center; justify-content: center; animation: pulse 2s infinite; }
        @keyframes pulse { 0%,100% { opacity: 1; box-shadow: 0 0 20px rgba(88,166,255,0.3); } 50% { opacity: 0.8; box-shadow: 0 0 10px rgba(88,166,255,0.1); } }
        
        .nav-desktop { display: none; gap: 0.5rem; }
        .nav-item { display: flex; align-items: center; gap: 0.5rem; padding: 0.625rem 1rem; border-radius: 8px; color: var(--text-secondary); text-decoration: none; font-size: 0.875rem; font-weight: 500; transition: all 0.2s; cursor: pointer; border: none; background: transparent; }
        .nav-item:hover, .nav-item.active { background: var(--bg-tertiary); color: var(--text-primary); }
        .nav-item.active { box-shadow: 0 0 0 1px var(--accent-cyan); }
        
        .market-status { display: flex; align-items: center; gap: 0.5rem; font-size: 0.875rem; color: var(--text-secondary); }
        .status-dot { width: 8px; height: 8px; background: var(--accent-green); border-radius: 50%; animation: blink 2s infinite; }
        @keyframes blink { 0%,100% { opacity: 1; } 50% { opacity: 0.3; } }
        
        /* Main */
        .main-content { flex: 1; padding: 1.5rem; overflow-y: auto; }
        .view { display: none; animation: fadeIn 0.3s ease; }
        .view.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Cards */
        .card { background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem; margin-bottom: 1rem; }
        .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
        .card-title { font-size: 0.875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-secondary); }
        .card-value { font-family: 'JetBrains Mono', monospace; font-size: 2rem; font-weight: 700; color: var(--accent-cyan); }
        .card-value.positive { color: var(--accent-green); } .card-value.negative { color: var(--accent-red); }
        
        /* Grid */
        .grid { display: grid; gap: 1rem; margin-bottom: 1rem; }
        .grid-2 { grid-template-columns: repeat(2, 1fr); }
        .grid-3 { grid-template-columns: repeat(3, 1fr); }
        .grid-4 { grid-template-columns: repeat(4, 1fr); }
        
        .stat { text-align: center; padding: 1rem; background: var(--bg-tertiary); border-radius: 8px; border: 1px solid var(--border); }
        .stat-value { font-family: 'JetBrains Mono', monospace; font-size: 1.5rem; font-weight: 700; color: var(--accent-cyan); }
        .stat-value.positive { color: var(--accent-green); } .stat-value.negative { color: var(--accent-red); }
        .stat-label { font-size: 0.75rem; color: var(--text-muted); text-transform: uppercase; margin-top: 0.25rem; }
        
        /* Buttons */
        .btn { display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; padding: 0.75rem 1.5rem; border-radius: 8px; font-size: 0.875rem; font-weight: 600; cursor: pointer; transition: all 0.2s; border: none; text-decoration: none; }
        .btn-primary { background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple)); color: white; box-shadow: 0 4px 15px rgba(88,166,255,0.3); }
        .btn-primary:hover { transform: translateY(-1px); box-shadow: 0 6px 20px rgba(88,166,255,0.4); }
        .btn-success { background: #238636; color: white; }
        .btn-danger { background: #da3633; color: white; }
        .btn-ghost { background: transparent; border: 1px solid var(--border); color: var(--text-secondary); }
        .btn-ghost:hover { background: var(--bg-tertiary); color: var(--text-primary); }
        
        /* Forms */
        .form-group { margin-bottom: 1rem; }
        label { display: block; font-size: 0.875rem; font-weight: 500; color: var(--text-secondary); margin-bottom: 0.5rem; }
        input, select, textarea { width: 100%; padding: 0.75rem 1rem; background: var(--bg-tertiary); border: 1px solid var(--border); border-radius: 8px; color: var(--text-primary); font-size: 0.875rem; font-family: inherit; }
        input:focus, select:focus, textarea:focus { outline: none; border-color: var(--accent-cyan); box-shadow: 0 0 0 3px rgba(88,166,255,0.1); }
        
        /* Mobile nav */
        .nav-mobile { position: fixed; bottom: 0; left: 0; right: 0; background: var(--bg-secondary); border-top: 1px solid var(--border); display: flex; justify-content: space-around; padding: 0.5rem 0 1rem; z-index: 100; }
        .nav-mobile .nav-item { flex-direction: column; gap: 0.25rem; font-size: 0.75rem; padding: 0.5rem; }
        .nav-mobile .nav-item span { font-size: 1.25rem; }
        .fab { width: 56px; height: 56px; background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple)); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem; margin-top: -20px; box-shadow: 0 4px 20px rgba(88,166,255,0.4); }
        
        /* Utilities */
        .hidden { display: none !important; } .text-center { text-align: center; } .mt-1 { margin-top: 0.5rem; } .mt-2 { margin-top: 1rem; } .mb-1 { margin-bottom: 0.5rem; } .mb-2 { margin-bottom: 1rem; }
        
        /* Responsive */
        @media (min-width: 768px) {
            .nav-desktop { display: flex; } .nav-mobile { display: none; }
            .grid-md-2 { grid-template-columns: repeat(2, 1fr); } .grid-md-3 { grid-template-columns: repeat(3, 1fr); } .grid-md-4 { grid-template-columns: repeat(4, 1fr); }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="header-content">
                <a href="#" class="logo" onclick="showView('dashboard'); return false;">
                    <div class="logo-icon">‚óà</div>
                    <span>TraderOS<span style="color: var(--accent-cyan);">Pro</span></span>
                </a>
                <nav class="nav-desktop">
                    <button class="nav-item active" onclick="showView('dashboard')" data-view="dashboard"><span>üìä</span> Dashboard</button>
                    <button class="nav-item" onclick="showView('market')" data-view="market"><span>üìà</span> Mercado</button>
                    <button class="nav-item" onclick="showView('academy')" data-view="academy"><span>üéì</span> Academia</button>
                    <button class="nav-item" onclick="showView('trade')" data-view="trade"><span>üí∞</span> Operar</button>
                    <button class="nav-item" onclick="showView('automation')" data-view="automation"><span>ü§ñ</span> IA</button>
                </nav>
                <div class="market-status"><span class="status-dot"></span><span>Mercado Abierto</span></div>
            </div>
        </header>
        
        <main class="main-content">
            <!-- VISTA: DASHBOARD -->
            <section id="view-dashboard" class="view active">
                <div class="grid grid-2 grid-md-4">
                    <div class="card">
                        <div class="card-header"><span class="card-title">Capital Total</span></div>
                        <div class="card-value" id="total-balance">$0.00</div>
                    </div>
                    <div class="card">
                        <div class="card-header"><span class="card-title">Win Rate</span></div>
                        <div class="card-value" id="win-rate">0%</div>
                    </div>
                    <div class="card">
                        <div class="card-header"><span class="card-title">Profit Factor</span></div>
                        <div class="card-value" id="profit-factor">0.00</div>
                    </div>
                    <div class="card">
                        <div class="card-header"><span class="card-title">Drawdown Max</span></div>
                        <div class="card-value negative" id="max-drawdown">0%</div>
                    </div>
                </div>
                
                <div class="grid grid-1 grid-md-2">
                    <div class="card">
                        <div class="card-header"><span class="card-title">Sentimiento del Mercado</span><span style="color: var(--accent-gold);">Fear & Greed: 65</span></div>
                        <div style="height: 20px; background: var(--bg-tertiary); border-radius: 10px; overflow: hidden; margin-top: 1rem;">
                            <div style="width: 65%; height: 100%; background: linear-gradient(90deg, var(--accent-green), var(--accent-gold));"></div>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 0.5rem; font-size: 0.75rem; color: var(--text-muted);"><span>Miedo Extremo</span><span>Codicia Extrema</span></div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header"><span class="card-title">Pr√≥ximas Noticias</span></div>
                        <div style="margin-top: 0.5rem;">
                            <div style="padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem; border-left: 3px solid var(--accent-red);">
                                <div style="font-weight: 600;">14:30 - IPC USA</div>
                                <div style="font-size: 0.875rem; color: var(--text-secondary);">Alto impacto üî¥</div>
                            </div>
                            <div style="padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; border-left: 3px solid var(--accent-gold);">
                                <div style="font-weight: 600;">16:00 - Inventario Petr√≥leo</div>
                                <div style="font-size: 0.875rem; color: var(--text-secondary);">Medio impacto üü°</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header"><span class="card-title">Watchlist</span><button class="btn btn-ghost" style="padding: 0.5rem 1rem; font-size: 0.75rem;">+ Agregar</button></div>
                    <div style="margin-top: 1rem;">
                        <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 1rem; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem; align-items: center;">
                            <div><div style="font-weight: 600;">NVDA</div><div style="font-size: 0.75rem; color: var(--text-muted);">NVIDIA Corp</div></div>
                            <div style="font-family: 'JetBrains Mono', monospace;">$142.50</div>
                            <div style="color: var(--accent-green); font-family: 'JetBrains Mono', monospace;">+2.3%</div>
                            <div style="height: 30px; background: var(--bg-secondary); border-radius: 4px; position: relative; overflow: hidden;"><div style="position: absolute; bottom: 0; left: 0; right: 0; height: 60%; background: var(--accent-green); opacity: 0.3;"></div></div>
                        </div>
                        <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 1rem; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; align-items: center;">
                            <div><div style="font-weight: 600;">BTC</div><div style="font-size: 0.75rem; color: var(--text-muted);">Bitcoin</div></div>
                            <div style="font-family: 'JetBrains Mono', monospace;">$67,200</div>
                            <div style="color: var(--accent-red); font-family: 'JetBrains Mono', monospace;">-0.8%</div>
                            <div style="height: 30px; background: var(--bg-secondary); border-radius: 4px; position: relative; overflow: hidden;"><div style="position: absolute; bottom: 0; left: 0; right: 0; height: 40%; background: var(--accent-red); opacity: 0.3;"></div></div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- VISTA: MERCADO -->
            <section id="view-market" class="view">
                <div class="card">
                    <div class="card-header"><span class="card-title">An√°lisis T√©cnico</span>
                        <div style="display: flex; gap: 0.5rem;"><select style="width: auto; padding: 0.5rem;"><option>NVDA</option><option>BTC</option><option>SPY</option></select><select style="width: auto; padding: 0.5rem;"><option>1D</option><option>4H</option><option>1H</option></select></div>
                    </div>
                    <div style="height: 400px; background: var(--bg-tertiary); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: var(--text-muted);">
                        <div class="text-center"><div style="font-size: 3rem; margin-bottom: 1rem;">üìä</div><p>Gr√°fico TradingView se cargar√° aqu√≠</p></div>
                    </div>
                </div>
                
                <div class="grid grid-1 grid-md-2">
                    <div class="card">
                        <div class="card-header"><span class="card-title">An√°lisis Multi-Timeframe</span></div>
                        <div style="margin-top: 1rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem;"><span>1H - Tendencia</span><span style="color: var(--accent-green); font-weight: 600;">ALCISTA üü¢</span></div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem;"><span>4H - Estructura</span><span style="color: var(--accent-green); font-weight: 600;">ORDENADA üü¢</span></div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px;"><span>1D - Sesgo</span><span style="color: var(--accent-gold); font-weight: 600;">NEUTRAL üü°</span></div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header"><span class="card-title">Setups Detectados</span></div>
                        <div style="margin-top: 1rem;">
                            <div style="padding: 1rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem; border-left: 3px solid var(--accent-cyan);"><div style="font-weight: 600; margin-bottom: 0.25rem;">üéØ Order Block</div><div style="font-size: 0.875rem; color: var(--text-secondary);">Soporte fuerte en $138.00</div></div>
                            <div style="padding: 1rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem; border-left: 3px solid var(--accent-purple);"><div style="font-weight: 600; margin-bottom: 0.25rem;">üìê Fair Value Gap</div><div style="font-size: 0.875rem; color: var(--text-secondary);">Zona $142-$144 sin liquidez</div></div>
                            <div style="padding: 1rem; background: var(--bg-tertiary); border-radius: 8px; border-left: 3px solid var(--accent-gold);"><div style="font-weight: 600; margin-bottom: 0.25rem;">üíß Liquidity Sweep</div><div style="font-size: 0.875rem; color: var(--text-secondary);">Lows anteriores barridos</div></div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- VISTA: ACADEMIA -->
            <section id="view-academy" class="view">
                <div class="card">
                    <div class="card-header"><span class="card-title">Tu Progreso</span><span style="color: var(--accent-cyan); font-weight: 600;">15% completado</span></div>
                    <div style="height: 8px; background: var(--bg-tertiary); border-radius: 4px; margin-top: 1rem; overflow: hidden;"><div style="width: 15%; height: 100%; background: linear-gradient(90deg, var(--accent-cyan), var(--accent-purple));"></div></div>
                </div>
                
                <div class="card" style="border-left: 4px solid var(--accent-green);">
                    <div class="card-header">
                        <div><span class="card-title" style="color: var(--accent-green);">NIVEL 1: FUNDAMENTOS</span><div style="font-size: 0.875rem; color: var(--text-secondary); margin-top: 0.25rem;">5 lecciones ‚Ä¢ 45 minutos</div></div>
                        <span style="background: var(--accent-green); color: white; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">EN PROGRESO</span>
                    </div>
                    <div style="margin-top: 1rem;">
                        <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem;"><span style="color: var(--accent-green);">‚úì</span><span style="flex: 1;">¬øQu√© es el trading?</span><span style="font-size: 0.75rem; color: var(--text-muted);">10 min</span></div>
                        <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem;"><span style="color: var(--accent-green);">‚úì</span><span style="flex: 1;">Tipos de an√°lisis</span><span style="font-size: 0.75rem; color: var(--text-muted);">15 min</span></div>
                        <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem;"><span style="color: var(--accent-green);">‚úì</span><span style="flex: 1;">Psicolog√≠a del trader</span><span style="font-size: 0.75rem; color: var(--text-muted);">10 min</span></div>
                        <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem; border: 1px solid var(--accent-cyan);"><span style="color: var(--accent-cyan);">‚ñ∂</span><span style="flex: 1; font-weight: 600; color: var(--accent-cyan);">Estructura de mercado</span><span style="font-size: 0.75rem; color: var(--accent-cyan);">EN CURSO</span></div>
                        <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; opacity: 0.6;"><span style="color: var(--text-muted);">‚óã</span><span style="flex: 1; color: var(--text-muted);">Timeframes y sesiones</span><span style="font-size: 0.75rem; color: var(--text-muted);">Bloqueado</span></div>
                    </div>
                    <button class="btn btn-primary mt-2" style="width: 100%; margin-top: 1rem;">Continuar lecci√≥n</button>
                </div>
                
                <div class="card" style="opacity: 0.6;">
                    <div class="card-header"><div><span class="card-title">NIVEL 2: AN√ÅLISIS T√âCNICO</span><div style="font-size: 0.875rem; color: var(--text-secondary); margin-top: 0.25rem;">8 lecciones ‚Ä¢ 2 horas</div></div><span style="background: var(--bg-tertiary); color: var(--text-muted); padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.75rem;">BLOQUEADO</span></div>
                </div>
            </section>
            
            <!-- VISTA: OPERAR -->
            <section id="view-trade" class="view">
                <div class="grid grid-1 grid-md-2">
                    <div class="card">
                        <div class="card-header"><span class="card-title">Nueva Operaci√≥n</span></div>
                        <form id="trade-form" style="margin-top: 1rem;">
                            <div class="form-group">
                                <label>Activo</label>
                                <div style="display: flex; gap: 0.5rem;"><input type="text" id="symbol" placeholder="NVDA" style="text-transform: uppercase; flex: 1;"><button type="button" class="btn btn-ghost" style="padding: 0 1rem;">üîç</button></div>
                            </div>
                            <div class="grid grid-2">
                                <div class="form-group"><label>Tipo</label><select id="trade-type"><option value="spot">Spot</option><option value="futures">Futuros</option><option value="margin">Margin</option></select></div>
                                <div class="form-group"><label>Direcci√≥n</label><select id="direction"><option value="long">üìà Long</option><option value="short">üìâ Short</option></select></div>
                            </div>
                            <div class="grid grid-3">
                                <div class="form-group"><label>Entrada</label><input type="number" id="entry" step="0.01" placeholder="0.00"></div>
                                <div class="form-group"><label>Stop Loss</label><input type="number" id="stop" step="0.01" placeholder="0.00"></div>
                                <div class="form-group"><label>Take Profit</label><input type="number" id="target" step="0.01" placeholder="0.00"></div>
                            </div>
                            <div class="form-group"><label>Cantidad</label><input type="number" id="quantity" placeholder="10"></div>
                            
                            <div class="card" style="background: var(--bg-tertiary); margin-bottom: 1rem;">
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; text-align: center;">
                                    <div><div style="font-size: 0.75rem; color: var(--text-muted);">Riesgo</div><div id="calc-risk" style="font-family: 'JetBrains Mono', monospace; font-weight: 700; color: var(--accent-red);">$0.00</div></div>
                                    <div><div style="font-size: 0.75rem; color: var(--text-muted);">Reward</div><div id="calc-reward" style="font-family: 'JetBrains Mono', monospace; font-weight: 700; color: var(--accent-green);">$0.00</div></div>
                                    <div><div style="font-size: 0.75rem; color: var(--text-muted);">Ratio R:R</div><div id="calc-rr" style="font-family: 'JetBrains Mono', monospace; font-weight: 700;">0:0</div></div>
                                    <div><div style="font-size: 0.75rem; color: var(--text-muted);">Posici√≥n</div><div id="calc-size" style="font-family: 'JetBrains Mono', monospace; font-weight: 700;">0 uds</div></div>
                                </div>
                            </div>
                            
                            <button type="button" class="btn btn-success" style="width: 100%;" onclick="saveTrade()">üíæ Guardar Operaci√≥n</button>
                        </form>
                    </div>
                    
                    <div class="card">
                        <div class="card-header"><span class="card-title">Checklist Pre-Trade</span><span id="checklist-score" style="color: var(--accent-gold); font-weight: 600;">0/5</span></div>
                        <div style="margin-top: 1rem;" id="checklist">
                            <label style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem; cursor: pointer;"><input type="checkbox" class="check-item" style="width: 18px; height: 18px;"><span>¬øTendencia clara en HTF?</span></label>
                            <label style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem; cursor: pointer;"><input type="checkbox" class="check-item" style="width: 18px; height: 18px;"><span>¬øZona de valor identificada?</span></label>
                            <label style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem; cursor: pointer;"><input type="checkbox" class="check-item" style="width: 18px; height: 18px;"><span>¬øRatio R:R m√≠nimo 1:2?</span></label>
                            <label style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem; cursor: pointer;"><input type="checkbox" class="check-item" style="width: 18px; height: 18px;"><span>¬øSin noticias de alto impacto?</span></label>
                            <label style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; cursor: pointer;"><input type="checkbox" class="check-item" style="width: 18px; height: 18px;"><span>¬øEstado emocional estable?</span></label>
                        </div>
                        <div id="checklist-result" style="margin-top: 1rem; padding: 1rem; border-radius: 8px; text-align: center; display: none;"><span style="font-weight: 600;"></span></div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header"><span class="card-title">Historial de Operaciones</span></div>
                    <div id="trades-history" style="margin-top: 1rem;"><p style="color: var(--text-muted); text-align: center; padding: 2rem;">Sin operaciones registradas</p></div>
                </div>
            </section>
            
            <!-- VISTA: AUTOMATIZACI√ìN -->
            <section id="view-automation" class="view">
                <div class="card" style="border: 1px solid var(--accent-cyan);">
                    <div class="card-header">
                        <div><span class="card-title" style="color: var(--accent-cyan);">ü§ñ ASISTENTE IA</span><div style="font-size: 0.875rem; color: var(--text-secondary); margin-top: 0.25rem;">LiquidezBot v1.0</div></div>
                        <div style="display: flex; align-items: center; gap: 0.5rem;"><span class="status-dot"></span><span style="color: var(--accent-green); font-weight: 600;">Activo</span></div>
                    </div>
                    <div style="margin-top: 1rem;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; text-align: center;">
                            <div class="stat"><div class="stat-value">24</div><div class="stat-label">Alertas hoy</div></div>
                            <div class="stat"><div class="stat-value positive">68%</div><div class="stat-label">Precisi√≥n</div></div>
                            <div class="stat"><div class="stat-value">5</div><div class="stat-label">Activos monitoreados</div></div>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-1 grid-md-2">
                    <div class="card">
                        <div class="card-header"><span class="card-title">Configuraci√≥n N8N</span></div>
                        <div style="margin-top: 1rem;">
                            <div class="form-group"><label>Webhook URL</label><input type="text" id="n8n-webhook" placeholder="https://n8n.tuservidor.com/webhook/trading"></div>
                            <div class="form-group"><label>API Key</label><input type="password" id="n8n-apikey" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"></div>
                            <div style="display: flex; gap: 0.5rem;"><button class="btn btn-primary" style="flex: 1;">Conectar</button><button class="btn btn-ghost">Probar</button></div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header"><span class="card-title">Integraciones</span></div>
                        <div style="margin-top: 1rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem;"><div style="display: flex; align-items: center; gap: 0.75rem;"><span>üî∂</span><span>Binance</span></div><span style="color: var(--accent-green); font-size: 0.875rem;">Conectado</span></div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem;"><div style="display: flex; align-items: center; gap: 0.75rem;"><span>üÖ∞Ô∏è</span><span>Alpaca</span></div><span style="color: var(--accent-gold); font-size: 0.875rem;">Paper Trading</span></div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px;"><div style="display: flex; align-items: center; gap: 0.75rem;"><span>üí¨</span><span>WhatsApp</span></div><span style="color: var(--accent-green); font-size: 0.875rem;">Activo</span></div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header"><span class="card-title">√öltimas Se√±ales de IA</span></div>
                    <div style="margin-top: 1rem;">
                        <div style="padding: 1rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem; border-left: 3px solid var(--accent-green);">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;"><span style="font-weight: 600;">NVDA - LONG</span><span style="font-size: 0.75rem; color: var(--text-muted);">11:25</span></div>
                            <div style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.5rem;">Breakout de Order Block + FVG en 15m</div>
                            <div style="display: flex; gap: 1rem; font-size: 0.75rem;"><span style="color: var(--accent-cyan);">Confianza: 85%</span><span style="color: var(--accent-green);">R:R 1:2.5</span></div>
                        </div>
                        <div style="padding: 1rem; background: var(--bg-tertiary); border-radius: 8px; border-left: 3px solid var(--accent-gold);">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;"><span style="font-weight: 600;">BTC - NEUTRAL</span><span style="font-size: 0.75rem; color: var(--text-muted);">10:48</span></div>
                            <div style="font-size: 0.875rem; color: var(--text-secondary);">Liquidity sweep en soporte, esperar confirmaci√≥n</div>
                        </div>
                    </div>
                </div>
            </section>
            
        </main>
        
        <!-- Navegaci√≥n m√≥vil -->
        <nav class="nav-mobile">
            <button class="nav-item active" onclick="showView('dashboard')" data-view="dashboard"><span>üìä</span><span>Inicio</span></button>
            <button class="nav-item" onclick="showView('market')" data-view="market"><span>üìà</span><span>Mercado</span></button>
            <button class="nav-item" onclick="showView('trade')" data-view="trade"><div class="fab">+</div></button>
            <button class="nav-item" onclick="showView('academy')" data-view="academy"><span>üéì</span><span>Academia</span></button>
            <button class="nav-item" onclick="showView('automation')" data-view="automation"><span>ü§ñ</span><span>IA</span></button>
        </nav>
    </div>
    
    <script>
        // Estado global
        let trades = JSON.parse(localStorage.getItem('trades')) || [];
        let currentView = 'dashboard';
        
        // Navegaci√≥n
        function showView(viewName) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById('view-' + viewName).classList.add('active');
            document.querySelectorAll(`[data-view="${viewName}"]`).forEach(n => n.classList.add('active'));
            currentView = viewName;
            localStorage.setItem('lastView', viewName);
        }
        
        // Calcular trade
        document.querySelectorAll('#entry, #stop, #target, #quantity').forEach(input => {
            input.addEventListener('input', calculateTrade);
        });
        
        function calculateTrade() {
            const entry = parseFloat(document.getElementById('entry').value) || 0;
            const stop = parseFloat(document.getElementById('stop').value) || 0;
            const target = parseFloat(document.getElementById('target').value) || 0;
            const qty = parseInt(document.getElementById('quantity').value) || 0;
            
            if (entry && stop && target && qty) {
                const riskPerUnit = Math.abs(entry - stop);
                const rewardPerUnit = Math.abs(target - entry);
                const rr = riskPerUnit > 0 ? (rewardPerUnit / riskPerUnit).toFixed(2) : 0;
                document.getElementById('calc-risk').textContent = '$' + (riskPerUnit * qty).toFixed(2);
                document.getElementById('calc-reward').textContent = '$' + (rewardPerUnit * qty).toFixed(2);
                document.getElementById('calc-rr').textContent = '1:' + rr;
                document.getElementById('calc-size').textContent = qty + ' uds';
            }
        }
        
        // Checklist
        document.querySelectorAll('.check-item').forEach(check => {
            check.addEventListener('change', updateChecklist);
        });
        
        function updateChecklist() {
            const checked = document.querySelectorAll('.check-item:checked').length;
            const total = document.querySelectorAll('.check-item').length;
            document.getElementById('checklist-score').textContent = `${checked}/${total}`;
            const result = document.getElementById('checklist-result');
            if (checked === total) {
                result.style.display = 'block'; result.style.background = 'rgba(63,185,80,0.1)';
                result.querySelector('span').textContent = '‚úÖ Listo para operar'; result.querySelector('span').style.color = 'var(--accent-green)';
            } else if (checked >= 3) {
                result.style.display = 'block'; result.style.background = 'rgba(210,153,34,0.1)';
                result.querySelector('span').textContent = '‚ö†Ô∏è Revisar antes de operar'; result.querySelector('span').style.color = 'var(--accent-gold)';
            } else { result.style.display = 'none'; }
        }
        
        // Guardar trade
        function saveTrade() {
            const symbol = document.getElementById('symbol').value.toUpperCase();
            const entry = parseFloat(document.getElementById('entry').value);
            const stop = parseFloat(document.getElementById('stop').value);
            const target = parseFloat(document.getElementById('target').value);
            const qty = parseInt(document.getElementById('quantity').value);
            
            if (!symbol || !entry || !stop || !target || !qty) { alert('Complet√° todos los campos'); return; }
            
            const trade = { id: Date.now(), date: new Date().toISOString(), symbol, entry, stop, target, quantity: qty, pnl: 0, status: 'open' };
            trades.unshift(trade);
            localStorage.setItem('trades', JSON.stringify(trades));
            if (navigator.vibrate) navigator.vibrate(50);
            updateDashboard(); alert('Trade guardado ‚úÖ');
            document.getElementById('trade-form').reset(); calculateTrade();
        }
        
        // Actualizar dashboard
        function updateDashboard() {
            const total = trades.reduce((sum, t) => sum + (t.pnl || 0), 0);
            const wins = trades.filter(t => t.pnl > 0).length;
            const winRate = trades.length > 0 ? ((wins / trades.length) * 100).toFixed(1) : 0;
            document.getElementById('total-balance').textContent = '$' + total.toFixed(2);
            document.getElementById('total-balance').className = 'card-value ' + (total >= 0 ? 'positive' : 'negative');
            document.getElementById('win-rate').textContent = winRate + '%';
        }
        
        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', () => {
            const lastView = localStorage.getItem('lastView') || 'dashboard';
            showView(lastView); updateDashboard();
        });
    </script>
</body>
</html>
